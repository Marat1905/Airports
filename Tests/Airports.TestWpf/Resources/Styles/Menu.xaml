<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ControlTemplate x:Key="CustomMenuTemplate" TargetType="{x:Type Menu}">
        <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
            <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
        </Border>
    </ControlTemplate>

    <Style x:Key="CustomMenuStyle" TargetType="{x:Type Menu}">
        <Setter Property="Background" Value="{DynamicResource Brushes.ThemeBackground}" />
        <Setter Property="Foreground" Value="{DynamicResource Brushes.ThemeForeground}" />
        <Setter Property="RenderOptions.ClearTypeHint" Value="Enabled" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="Template" Value="{StaticResource CustomMenuTemplate}"/>
    </Style>
    
</ResourceDictionary>